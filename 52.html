
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>口語高頻諺語 52選 (語音切換版)</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #2c3e50;
            --accent: #3498db;
            --accent-dark: #2980b9;
            --accent-light: #e8f4fc;
            --bg: #f8f9fa;
            --card-bg: #ffffff;
            --text-main: #333;
            --text-sub: #666;
            --border-radius: 12px;
        }

        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: var(--bg);
            color: var(--text-main);
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px 0;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        h1 {
            color: var(--primary);
            font-size: 1.8rem;
            margin: 0 0 10px 0;
        }

        /* 語音控制區 */
        .voice-controls {
            margin-top: 15px;
            padding: 15px;
            background-color: var(--accent-light);
            border-radius: 8px;
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .voice-select-wrapper {
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
            justify-content: center;
        }

        select#voiceSelect {
            padding: 8px 12px;
            border-radius: 6px;
            border: 1px solid #ccc;
            font-size: 0.95rem;
            max-width: 300px;
            font-family: inherit;
        }

        button#testVoice {
            padding: 8px 16px;
            background-color: var(--accent);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
        }

        button#testVoice:hover {
            background-color: var(--accent-dark);
        }

        /* 網格佈局 */
        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 20px;
            max-width: 1200px;
            margin: 20px auto;
        }

        /* 卡片設計 */
        .card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            padding: 24px;
            transition: transform 0.2s, box-shadow 0.2s;
            position: relative;
            border-top: 4px solid var(--accent);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0,0,0,0.1);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .idx {
            font-size: 0.9rem;
            color: #999;
            font-weight: 700;
        }

        .jp-text {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--primary);
            margin: 5px 0;
            line-height: 1.4;
        }

        .reading {
            font-size: 0.9rem;
            color: var(--text-sub);
            margin-bottom: 15px;
        }

        .speak-btn {
            background: var(--accent-light);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--accent);
            transition: all 0.2s;
            flex-shrink: 0;
            margin-left: 10px;
        }

        .speak-btn:hover {
            background: var(--accent);
            color: white;
        }

        .speak-btn svg {
            width: 20px;
            height: 20px;
            fill: currentColor;
        }

        .info-block {
            margin-top: 15px;
            font-size: 0.95rem;
            border-top: 1px solid #eee;
            padding-top: 15px;
        }

        .info-row {
            margin-bottom: 8px;
            display: flex;
            align-items: baseline;
        }

        .label {
            display: inline-block;
            font-size: 0.75rem;
            font-weight: 700;
            padding: 2px 6px;
            border-radius: 4px;
            margin-right: 8px;
            color: white;
            min-width: 35px;
            text-align: center;
        }

        .label.mean { background-color: #34495e; }
        .label.modern { background-color: #e67e22; }

        .info-content {
            flex: 1;
        }

        @media (max-width: 600px) {
            h1 { font-size: 1.5rem; }
            .grid-container { grid-template-columns: 1fr; }
            .voice-select-wrapper { flex-direction: column; width: 100%; }
            select#voiceSelect { width: 100%; max-width: none; }
        }
    </style>
</head>
<body>

<header>
    <h1>口語高頻諺語 52選</h1>
    <div class="voice-controls">
        <label for="voiceSelect" style="font-size: 0.9rem; font-weight: bold; color: var(--primary);">選擇語音包 (TTS):</label>
        <div class="voice-select-wrapper">
            <select id="voiceSelect">
                <option value="">載入中...</option>
            </select>
            <button id="testVoice" onclick="testVoice()">試聽語音</button>
        </div>
        <small style="color: #666; margin-top:5px;">※ 建議選擇 "Google 日本語" 或 "Microsoft" 開頭的語音</small>
    </div>
</header>

<main id="app" class="grid-container">
    </main>

<script>
    // 資料來源
    const proverbs = [
        { id: 1, jp: "雨降って地固まる", read: "あめ ふって じ かたまる", mean: "經歷波折後關係反而更好", modern: "結果オーライ / 逆に仲良くなった" },
        { id: 2, jp: "案ずるより産むが易し", read: "あんずる より うむが やすし", mean: "實際做比想像中容易", modern: "取り越し苦労 / やってみたら余裕" },
        { id: 3, jp: "石橋を叩いて渡る", read: "いしばし を たたいて わたる", mean: "過於謹慎、小心求穩", modern: "超慎重派 / ビビりすぎ" },
        { id: 4, jp: "嘘から出たまこと", read: "うそ から でた まこと", mean: "弄假成真", modern: "瓢箪（ひょうたん）から駒 / マジになった" },
        { id: 5, jp: "馬の耳に念仏", read: "うま の みみ に ねんぶつ", mean: "對不聽的人說也沒用", modern: "スルーされた / 聞く耳持たず" },
        { id: 6, jp: "鬼に金棒", read: "おに に かなぼう", mean: "強者更強、如虎添翼", modern: "最強 / チート級 / 無双状態" },
        { id: 7, jp: "溺れる者は藁をも掴む", read: "おぼれる もの は わら をも つかむ", mean: "陷入絕境時抓任何希望", modern: "必死すぎ / 神頼み" },
        { id: 8, jp: "猿も木から落ちる", read: "さるも き から おちる", mean: "高手也會失誤", modern: "ドンマイ / 誰にでもミスはある" },
        { id: 9, jp: "山椒は小粒でもぴりりと辛い", read: "さんしょう は こつぶ でも ぴりりと からい", mean: "外表不起眼但實力很強", modern: "見かけによらない / 小さいけど強い" },
        { id: 10, jp: "好きこそものの上手なれ", read: "すきこそ ものの じょうず なれ", mean: "熱情才是最強學習力", modern: "ハマるが勝ち / オタク気質が最強" },
        { id: 11, jp: "棚から牡丹餅", read: "たな から ぼたもち", mean: "意外之財、坐收好處", modern: "ラッキー！ / 運ゲーで勝った" },
        { id: 12, jp: "虎の威を借る狐", read: "とら の い を かる きつね", mean: "靠背景耀武揚威", modern: "親の七光り / 腰巾着（こしぎんちゃく）" },
        { id: 13, jp: "泣きっ面に蜂", read: "なきっつら に はち", mean: "禍不單行", modern: "ついてない / 踏んだり蹴ったり" },
        { id: 14, jp: "隣の芝生は青い", read: "となり の しばふ は あおい", mean: "別人永遠看起來更好", modern: "ないものねだり / 他人が羨ましい" },
        { id: 15, jp: "捕らぬ狸の皮算用", read: "とらぬ たぬき の かわざんよう", mean: "過度樂觀、預測太早", modern: "妄想乙 / 気が早い" },
        { id: 16, jp: "飛んで火にいる夏の虫", read: "とんで ひ に いる なつ の むし", mean: "自找麻煩", modern: "自爆 / カモがネギ背負ってくる" },
        { id: 17, jp: "なくて七癖", read: "なくて ななくせ", mean: "人人都有缺點或習慣", modern: "誰にでも癖はある / 個性だよ" },
        { id: 18, jp: "寝耳に水", read: "ねみみ に みず", mean: "晴天霹靂", modern: "サプライズ / マジでビビった" },
        { id: 19, jp: "目は口ほどに物を言う", read: "め は くち ほど に もの を いう", mean: "眼神透露真意", modern: "顔に書いてある / 目がマジ" },
        { id: 20, jp: "藪をつついて蛇を出す", read: "やぶ を つついて へび を だす", mean: "多此一舉反招麻煩", modern: "余計なことした / 墓穴を掘る" },
        { id: 21, jp: "来年のことを言えば鬼が笑う", read: "らいねん の こと を いえば おに が わらう", mean: "未來太不確定", modern: "先のことなんて分からん" },
        { id: 22, jp: "悪事千里を走る", read: "あくじ せんり を はしる", mean: "壞事傳播快", modern: "拡散希望（笑） / 炎上するのは早い" },
        { id: 23, jp: "石の上にも三年", read: "いし の うえ にも さんねん", mean: "堅持終會有成果", modern: "継続は力なり / とりあえず続けろ" },
        { id: 24, jp: "急がば回れ", read: "いそがば まわれ", mean: "欲速則不達", modern: "地道が一番の近道 / テンパるな" },
        { id: 25, jp: "嘘も方便", read: "うそ も ほうべん", mean: "善意的謊言", modern: "大人の対応 / 建前も大事" },
        { id: 26, jp: "思い立ったが吉日", read: "おもいたった が きちじつ", mean: "立刻行動最重要", modern: "即行動 / 今やろう" },
        { id: 27, jp: "終わり良ければすべて良し", read: "おわり よければ すべて よし", mean: "結果勝過過程", modern: "勝てば官軍 / 最終回が良ければ神作" },
        { id: 28, jp: "勝って兜の緒を締めよ", read: "かって かぶと の お を しめよ", mean: "勝不驕、保持警戒", modern: "調子に乗るな / 油断大敵" },
        { id: 29, jp: "壁に耳あり障子に目あり", read: "かべ に みみ あり しょうじ に め あり", mean: "小心旁人偷聽", modern: "どこで見られてるか分からん / 身バレ注意" },
        { id: 30, jp: "聞くは一時の恥聞かぬは一生の恥", read: "きく は いっとき の はじ...", mean: "不懂就要問", modern: "ググれ（笑）/ 知ったかぶりは恥" },
        { id: 31, jp: "口は禍の元", read: "くち は わざわい の もと", mean: "慎言", modern: "失言注意 / 余計なこと言うな" },
        { id: 32, jp: "虎穴に入らずんば虎子を得ず", read: "こけつ に いらずんば こじ を えず", mean: "不入虎穴焉得虎子", modern: "ノーリスク・ノーリターン / 攻めなきゃ勝てない" },
        { id: 33, jp: "転ばぬ先の杖", read: "ころばぬ さき の つえ", mean: "事前防範", modern: "保険かける / リスクヘッジ" },
        { id: 34, jp: "触らぬ神に祟りなし", read: "さわらぬ かみ に たたり なし", mean: "別碰麻煩", modern: "関わらないのが吉 / スルー安定" },
        { id: 35, jp: "三人寄れば文殊の知恵", read: "さんにん よれば もんじゅ の ちえ", mean: "多人集思廣益", modern: "ブレストしよう / 集合知" },
        { id: 36, jp: "朱に交われば赤くなる", read: "しゅ に まじわれば あかく なる", mean: "近朱者赤", modern: "環境大事 / 類友（るいとも）" },
        { id: 37, jp: "急いては事を仕損じる", read: "せいては こと を しそんじる", mean: "太急會搞砸", modern: "焦りは禁物 / 落ち着け" },
        { id: 38, jp: "塵も積もれば山となる", read: "ちり も つもれば やま と なる", mean: "積少成多", modern: "チリツモ / コツコツが大事" },
        { id: 39, jp: "生兵法は大怪我のもと", read: "なまびょうほう は おおけが の もと", mean: "半桶水最危險", modern: "知ったかぶり乙 / にわかは黙ってろ" },
        { id: 40, jp: "習うより慣れろ", read: "ならう より なれろ", mean: "實作勝過理論", modern: "体で覚えろ / 実践あるのみ" },
        { id: 41, jp: "人間万事塞翁が馬", read: "にんげん ばんじ さいおう が うま", mean: "壞事可能是好事", modern: "人生何があるか分からん / プラマイゼロ" },
        { id: 42, jp: "二兎を追う者は一兎をも得ず", read: "にと を おう もの は いっと をも えず", mean: "分心就什麼都得不到", modern: "どっちつかずはダメ / 欲張りすぎ" },
        { id: 43, jp: "能ある鷹は爪を隠す", read: "のう ある たか は つめ を かくす", mean: "真正強的人不誇耀", modern: "実力者はイキらない / ギャップ萌え" },
        { id: 44, jp: "残り物には福がある", read: "のこりもの には ふく が ある", mean: "剩下的反而有好處", modern: "ラストワン賞 / 余り物最強" },
        { id: 45, jp: "早起きは三文の徳", read: "はやおき は さんもん の とく", mean: "早起的人佔便宜", modern: "朝活（あさかつ） / 意識高い系" },
        { id: 46, jp: "百聞は一見に如かず", read: "ひゃくぶん は いっけん に しかず", mean: "眼見為憑", modern: "見た方が早い / 現場見ろ" },
        { id: 47, jp: "仏の顔も三度", read: "ほとけ の かお も さんど", mean: "忍無可忍", modern: "いい加減にしろ / ブチギレ寸前" },
        { id: 48, jp: "蒔かぬ種は生えぬ", read: "まかぬ たね は はえぬ", mean: "不努力就沒成果", modern: "自業自得（悪い意味でも） / やらなきゃ始まらない" },
        { id: 49, jp: "負けるが勝ち", read: "まける が かち", mean: "退一步反而是贏", modern: "大人の余裕 / 譲ってやる" },
        { id: 50, jp: "良薬は口に苦し", read: "りょうやく は くち に にがし", mean: "忠言逆耳", modern: "図星つかれた / 耳が痛い話" },
        { id: 51, jp: "類は友を呼ぶ", read: "るい は とも を よぶ", mean: "物以類聚", modern: "類友（るいとも） / 似た者同士" },
        { id: 52, jp: "論より証拠", read: "ろん より しょうこ", mean: "事實勝過辯論", modern: "エビデンスだせ / 結果が全て" }
    ];

    const app = document.getElementById('app');
    const voiceSelect = document.getElementById('voiceSelect');
    let voices = [];
    let selectedVoice = null;

    // 初始化：渲染卡片
    function init() {
        proverbs.forEach(item => {
            const card = document.createElement('article');
            card.className = 'card';
            card.innerHTML = `
                <div class="card-header">
                    <div>
                        <span class="idx">#${String(item.id).padStart(2, '0')}</span>
                        <h2 class="jp-text">${item.jp}</h2>
                    </div>
                    <button class="speak-btn" onclick="speak('${item.jp}')" title="播放發音">
                        <svg viewBox="0 0 24 24"><path d="M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77zm-4 0h-2.5l-5 5v5h5l5 5v-15z"/></svg>
                    </button>
                </div>
                <div class="reading">${item.read}</div>
                <div class="info-block">
                    <div class="info-row">
                        <span class="label mean">意思</span>
                        <span class="info-content">${item.mean}</span>
                    </div>
                    <div class="info-row">
                        <span class="label modern">現代</span>
                        <span class="info-content">${item.modern}</span>
                    </div>
                </div>
            `;
            app.appendChild(card);
        });
    }

    // 語音載入邏輯
    function populateVoices() {
        voices = window.speechSynthesis.getVoices();
        
        // 過濾出日文語音，以及一些可能支援日文的多語系語音
        const jpVoices = voices.filter(voice => voice.lang.includes('ja') || voice.lang.includes('JP'));

        voiceSelect.innerHTML = '';

        if (jpVoices.length === 0) {
            const option = document.createElement('option');
            option.textContent = "未偵測到專用日語語音 (將使用系統預設)";
            voiceSelect.appendChild(option);
            return;
        }

        jpVoices.forEach((voice, index) => {
            const option = document.createElement('option');
            // 使用語音名稱作為識別，避免 index 跑掉
            option.value = voice.name;
            option.textContent = `${voice.name} (${voice.lang})`;
            voiceSelect.appendChild(option);

            // 嘗試自動選擇品質較好的語音 (Google 或 Microsoft)
            if (!selectedVoice && (voice.name.includes('Google') || voice.name.includes('Microsoft'))) {
                selectedVoice = voice;
                option.selected = true;
            }
        });

        // 如果沒有自動選到，就預設第一個
        if (!selectedVoice && jpVoices.length > 0) {
            selectedVoice = jpVoices[0];
        }
    }

    // 當使用者切換選單時
    voiceSelect.addEventListener('change', (e) => {
        const selectedName = e.target.value;
        selectedVoice = voices.find(voice => voice.name === selectedName);
    });

    // 瀏覽器載入語音通常是異步的
    if (speechSynthesis.onvoiceschanged !== undefined) {
        speechSynthesis.onvoiceschanged = populateVoices;
    }
    
    // 立即嘗試執行一次 (為了某些已經載入好的瀏覽器)
    populateVoices();
    init();

    // 播放功能
    function speak(text) {
        window.speechSynthesis.cancel(); // 停止當前語音
        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = 'ja-JP';
        utterance.rate = 0.9; // 語速

        if (selectedVoice) {
            utterance.voice = selectedVoice;
        }

        window.speechSynthesis.speak(utterance);
    }

    // 試聽按鈕
    function testVoice() {
        speak("こんにちは、この声で読み上げます。");
    }
</script>

</body>
</html>
