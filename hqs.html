<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>超高頻搭配詞</title>
  <meta name="color-scheme" content="dark" />
  <style>

    :root{
      --bg-color:#121212;
      --card-bg:#1e1e1e;
      --text-primary:#e0e0e0;
      --text-secondary:#a0a0a0;
      --accent-color:#cfb53b;
      --accent-hover:#eecf5b;
      --border-color:#333;
      --shadow-hover: 0 8px 16px rgba(0,0,0,.25);
      --radius-card: 12px;
      --radius-chip: 999px;
      --font-main: "Helvetica Neue", Helvetica, "PingFang TC", "Hiragino Sans GB", "Microsoft JhengHei", Arial, sans-serif;
      --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      background: var(--bg-color);
      color: var(--text-primary);
      font-family: var(--font-main);
      line-height:1.6;
      padding: 20px;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      letter-spacing: .1px;
      font-size: 17px; /* mobile-friendly */
    }

    .wrap{
      max-width: 1100px;
      margin: 0 auto;
      padding: 10px 0 56px;
    }

    header{
      text-align:center;
      margin-bottom: 18px;
    }

    h1{
      margin:0 0 8px 0;
      font-size: 2.5rem;
      color: var(--accent-color);
      letter-spacing: 1px;
      font-weight: 800;
    }
    .sub{
      color: var(--text-secondary);
      font-size: .95rem;
      line-height: 1.5;
    }

    /* Controls -> keep but visually calm */
    .controls{
      max-width: 900px;
      margin: 18px auto 0;
      display:flex;
      gap: 10px;
      align-items:center;
      flex-wrap: wrap;
      justify-content:center;
    }

    .input{
      flex: 1 1 360px;
      min-width: min(520px, 100%);
      display:flex;
      align-items:center;
      padding: 10px 12px;
      border-radius: var(--radius-card);
      border: 1px solid var(--border-color);
      background: #181818;
      color: var(--text-primary);
    }
    .input input{
      width:100%;
      border:0;
      outline:0;
      background:transparent;
      color: var(--text-primary);
      font-size: 1rem;
    }
    .input input::placeholder{ color: var(--text-secondary); }

    .pill{
      font-size: .9rem;
      padding: 8px 12px;
      border-radius: var(--radius-chip);
      border: 1px solid var(--border-color);
      background: #181818;
      color: var(--text-secondary);
      cursor:pointer;
      user-select:none;
      transition: transform .08s ease, border-color .12s ease, color .12s ease;
    }
    .pill:hover{
      border-color: var(--accent-color);
      color: var(--text-primary);
      transform: translateY(-1px);
    }
    .pill[aria-pressed="true"]{
      border-color: var(--accent-color);
      color: var(--text-primary);
    }

    .stats{
      max-width: 900px;
      margin: 12px auto 18px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap: 12px;
      color: var(--text-secondary);
      font-size: .85rem;
      flex-wrap: wrap;
    }
    kbd{
      font-family: var(--font-mono);
      font-size: .85rem;
      padding: 2px 7px;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      background: rgba(0,0,0,.18);
      color: var(--text-secondary);
    }

    .grid{
      display:flex;
      flex-direction:column;
      gap: 14px;
      max-width: 1100px;
      margin: 0 auto;
    }

    /* Group container (details) */
    details.group{
      background: var(--card-bg);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-card);
      overflow:hidden;
    }
    details.group:hover{
      border-color: var(--accent-color);
    }

    summary{
      list-style:none;
      cursor:pointer;
      padding: 16px 16px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      user-select:none;
      border-bottom: 1px solid transparent;
    }
    summary::-webkit-details-marker{ display:none; }
    .group[open] summary{
      border-bottom-color: var(--border-color);
      background: rgba(255,255,255,.02);
    }

    .groupTitle{ display:flex; flex-direction:column; gap: 4px; min-width:0; }
    .groupTitle .name{ font-weight: 800; font-size: 1rem; letter-spacing: .2px; color: var(--text-primary); }
    .groupTitle .meta{ color: var(--text-secondary); font-size: .85rem; }

    .chev{
      width: 34px; height: 34px;
      border-radius: 12px;
      display:grid; place-items:center;
      border: 1px solid var(--border-color);
      background: #181818;
      flex: 0 0 auto;
      transition: transform .14s ease, border-color .12s ease;
    }
    details[open] .chev{ transform: rotate(180deg); }
    details.group:hover .chev{ border-color: var(--accent-color); }

    .cards{
      padding: 14px;
      display:grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap: 12px;
    }

    .card{
      background: var(--card-bg);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-card);
      padding: 16px;
      display:flex;
      flex-direction:column;
      gap: 10px;
      transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease;
    }
    .card:hover{
      transform: translateY(-3px);
      box-shadow: var(--shadow-hover);
      border-color: var(--accent-color);
    }

    .topRow{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap: 10px;
    }

    .jp{
      font-size: 1.4rem;
      font-weight: 800;
      letter-spacing: .2px;
      line-height: 1.25;
      word-break: break-word;
      color: var(--accent-color);
    }
    .kana{
      color: var(--text-secondary);
      font-size: .9rem;
      font-family: var(--font-mono);
      letter-spacing: .2px;
      margin-top: 2px;
    }
    .zh{
      color: #fff;
      font-size: 1rem;
      line-height: 1.5;
    }

    .example{
      margin-top: 2px;
      padding-top: 10px;
      border-top: 1px solid var(--border-color);
      display:flex;
      flex-direction:column;
      gap: 6px;
    }
    .exjp{
      font-size: .95rem;
      color: var(--text-primary);
      line-height: 1.55;
      word-break: break-word;
    }
    .exzh{
      font-size: .9rem;
      color: var(--text-secondary);
      line-height: 1.55;
      word-break: break-word;
    }

    .btn{
      flex: 0 0 auto;
      border: 1px solid var(--border-color);
      background: #181818;
      color: var(--text-secondary);
      font-size: .9rem;
      padding: 8px 12px;
      border-radius: 12px;
      cursor:pointer;
      transition: background .12s ease, border-color .12s ease, color .12s ease, transform .08s ease;
    }
    .btn:hover{
      border-color: var(--accent-color);
      color: var(--text-primary);
      transform: translateY(-1px);
    }
    .btn:active{ transform: translateY(0px); }

    .toast{
      position: fixed;
      left: 50%;
      bottom: 18px;
      transform: translateX(-50%);
      background: var(--card-bg);
      border: 1px solid var(--border-color);
      border-radius: 14px;
      padding: 12px 14px;
      color: var(--text-secondary);
      font-size: .9rem;
      box-shadow: var(--shadow-hover);
      opacity: 0;
      pointer-events:none;
      transition: opacity .16s ease, transform .16s ease;
      max-width: min(92vw, 540px);
      text-align: center;
    }
    .toast.show{
      opacity: 1;
      transform: translateX(-50%) translateY(-4px);
    }

    footer{
      max-width: 1100px;
      margin: 22px auto 0;
      color: var(--text-secondary);
      font-size: .85rem;
      display:flex;
      justify-content:space-between;
      gap: 12px;
      flex-wrap:wrap;
      border-top: 1px solid var(--border-color);
      padding-top: 14px;
    }

    @media (max-width: 860px){
      .cards{ grid-template-columns: 1fr; }
      .input{ min-width: 100%; }
      h1{ font-size: 1.7rem; }
    }

  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <div class="title">
        <h1>超高頻搭配詞</h1>
        <div class="sub">｜分類展開｜搜尋｜日常例句</div>
      </div>
      <div class="controls">
        <div class="input" role="search">
          <input id="q" placeholder="搜尋：日文 / 假名 / 中文（例如：落ちる、きが、忙、對齊）" autocomplete="off" />
        </div>
        <button class="pill" id="toggleAll" aria-pressed="false" type="button">展開全部</button>
        <button class="pill" id="clear" type="button">清除</button>
      </div>
    </header>

    <div class="stats">
      <div id="count">—</div>
      <div>快捷：<kbd>/</kbd> 聚焦搜尋　<kbd>Esc</kbd> 清除</div>
    </div>

    <main id="app" class="grid"></main>

    <footer>
      <div>Data: 145 items · Minimal dark UI</div>
      <div>Single-file static HTML</div>
    </footer>
  </div>

  <div id="toast" class="toast" aria-live="polite"></div>

  <script>
    const DATA = [
      // 心智・思考與記憶
      {cat:"心智・思考與記憶", no:1, jp:"目を通す", kana:"めをとおす", zh:"過目、瀏覽", ex:"この資料、あとで目を通しておくね。", ex_zh:"這份資料我晚點會先過目一下。"},
      {cat:"心智・思考與記憶", no:2, jp:"頭に入れる", kana:"あたまにいれる", zh:"記住、放進腦袋", ex:"今日中に手順を頭に入れておきたい。", ex_zh:"我想在今天之內把流程記起來。"},
      {cat:"心智・思考與記憶", no:3, jp:"腑に落ちない", kana:"ふにおちない", zh:"無法理解、想不通", ex:"説明は分かるけど、なんか腑に落ちない。", ex_zh:"說明我懂，但總覺得哪裡想不通。"},
      {cat:"心智・思考與記憶", no:4, jp:"目に焼き付く", kana:"めにやきつく", zh:"刻印在眼裡、難以忘懷", ex:"あの景色が目に焼き付いて離れない。", ex_zh:"那個景色刻在我腦海裡揮之不去。"},
      {cat:"心智・思考與記憶", no:5, jp:"耳に残る", kana:"みみにのこる", zh:"縈繞在耳邊、聽了難忘", ex:"その一言が耳に残って、ずっと気になる。", ex_zh:"那句話一直在耳邊迴盪，讓我很在意。"},
      {cat:"心智・思考與記憶", no:6, jp:"ピンとくる", kana:"ぴんとくる", zh:"馬上理解、有靈感", ex:"それ聞いてピンときた。原因それだ。", ex_zh:"聽你一說我就有感覺了，原因就是那個。"},
      {cat:"心智・思考與記憶", no:7, jp:"見当がつく", kana:"けんとうがつく", zh:"大致推測、心裡有數", ex:"だいたい見当がつく。たぶん設定の問題だよ。", ex_zh:"我大概有數了，應該是設定的問題。"},
      {cat:"心智・思考與記憶", no:8, jp:"見当違い", kana:"けんとうちがい", zh:"離題、完全搞錯", ex:"それは見当違いかも。方向が違う気がする。", ex_zh:"那可能是搞錯方向了，我覺得路線不對。"},
      {cat:"心智・思考與記憶", no:9, jp:"気に留める", kana:"きにとめる", zh:"放在心上、留意", ex:"その点は気に留めておく。あとで確認するね。", ex_zh:"那點我會記著，晚點再確認。"},
      {cat:"心智・思考與記憶", no:10, jp:"気に留めない", kana:"きにとめない", zh:"不放在心上、不在意", ex:"細かいことは気に留めないで。大丈夫。", ex_zh:"小事別放在心上，沒問題。"},
      {cat:"心智・思考與記憶", no:11, jp:"心に響く", kana:"こころにひびく", zh:"觸動人心、打動心弦", ex:"その言葉、心に響いた。助かったよ。", ex_zh:"那句話很打動我，真的幫到我了。"},
      {cat:"心智・思考與記憶", no:12, jp:"胸に刻む", kana:"むねにきざむ", zh:"銘記在心", ex:"言われたことを胸に刻んで、次に活かす。", ex_zh:"我會把你說的話記在心裡，下次改進。"},
      {cat:"心智・思考與記憶", no:13, jp:"先が読める", kana:"さきがよめる", zh:"看得出後勢、看得見前景", ex:"この流れだと、先が読めるね。もう少しで終わる。", ex_zh:"照這個走向，我大概看得出來了，快結束了。"},
      {cat:"心智・思考與記憶", no:14, jp:"先が見えない", kana:"さきがみえない", zh:"前景不明、看不見未來", ex:"今の状況だと、先が見えなくて不安。", ex_zh:"以現在狀況來看，看不到後續有點不安。"},

      // 態度・情緒
      {cat:"態度・情緒", no:15, jp:"気が重い", kana:"きがおもい", zh:"覺得沈重、提不起勁", ex:"行かなきゃだけど、気が重いな…。", ex_zh:"雖然得去，但心情很沉重…。"},
      {cat:"態度・情緒", no:16, jp:"気が楽だ", kana:"きがらくだ", zh:"輕鬆、無壓力", ex:"話せて気が楽になった。ありがとう。", ex_zh:"聊完心裡輕鬆多了，謝謝。"},
      {cat:"態度・情緒", no:17, jp:"気が利く", kana:"きがきく", zh:"機靈周到、貼心", ex:"それ用意してくれるの、気が利くね。", ex_zh:"你連那個都先準備好，真貼心。"},
      {cat:"態度・情緒", no:18, jp:"気が回る", kana:"きがまわる", zh:"想得周全、細膩", ex:"そこまで気が回るのすごい。助かった。", ex_zh:"你連那種細節都想到，太強了，幫大忙。"},
      {cat:"態度・情緒", no:19, jp:"気が短い", kana:"きがみじかい", zh:"急性子、沒耐性", ex:"自分でも気が短いって分かってる。", ex_zh:"我自己也知道我很沒耐性。"},
      {cat:"態度・情緒", no:20, jp:"気が長い", kana:"きがながい", zh:"有耐性、慢性子", ex:"待てるのは気が長い人だよね。", ex_zh:"能等的人真的很有耐心。"},
      {cat:"態度・情緒", no:21, jp:"気が散る", kana:"きがちる", zh:"心不在焉、分心", ex:"通知が多くて、気が散る。", ex_zh:"通知一直跳出來，超分心。"},
      {cat:"態度・情緒", no:22, jp:"気を遣う", kana:"きをつかう", zh:"顧慮、費心", ex:"そんなに気を遣わなくていいよ。", ex_zh:"你不用那麼費心啦。"},
      {cat:"態度・情緒", no:23, jp:"気を抜く", kana:"きをぬく", zh:"放鬆警戒、鬆懈", ex:"ここで気を抜くとミスるからね。", ex_zh:"這裡一鬆懈就會出錯喔。"},
      {cat:"態度・情緒", no:24, jp:"気を張る", kana:"きをはる", zh:"繃緊神經、打起精神", ex:"今日は気を張っていこう。大事な日だ。", ex_zh:"今天要打起精神，因為很重要。"},
      {cat:"態度・情緒", no:25, jp:"ムッとする", kana:"むっとする", zh:"一肚子氣、悶怒", ex:"その言い方はちょっとムッとした。", ex_zh:"你那種講法我有點不爽。"},
      {cat:"態度・情緒", no:26, jp:"カチンとくる", kana:"かちんとくる", zh:"被激到、火冒三丈", ex:"今の一言、さすがにカチンときた。", ex_zh:"剛那句我真的被激到。"},
      {cat:"態度・情緒", no:27, jp:"しっくりくる", kana:"しっくりくる", zh:"合拍、合適、順心", ex:"この表現が一番しっくりくる。", ex_zh:"這個說法最貼切。"},
      {cat:"態度・情緒", no:28, jp:"もやもやする", kana:"もやもやする", zh:"悶悶不樂、卡卡的", ex:"理由は分からないけど、もやもやする。", ex_zh:"理由說不上來，但就是很悶。"},
      // 人際・社交
      {cat:"人際・社交", no:29, jp:"顔を立てる", kana:"かおをたてる", zh:"給面子", ex:"今日は相手の顔を立てて、こちらは引いたほうがいい。", ex_zh:"今天先給對方面子，我們這邊退一步比較好。"},
      {cat:"人際・社交", no:30, jp:"顔が広い", kana:"かおがひろい", zh:"人脈廣、交際廣", ex:"あの人、顔が広いから相談してみよう。", ex_zh:"那個人交際廣，找他問看看吧。"},
      {cat:"人際・社交", no:31, jp:"顔を出す", kana:"かおをだす", zh:"露個臉、現身一下", ex:"時間があれば、会にちょっと顔を出すよ。", ex_zh:"有時間的話，我會去聚會露個臉。"},
      {cat:"人際・社交", no:32, jp:"水を差す", kana:"みずをさす", zh:"潑冷水、掃興", ex:"盛り上がってるところに水を差すのはやめよう。", ex_zh:"大家正嗨的時候別潑冷水。"},
      {cat:"人際・社交", no:33, jp:"場を読む", kana:"ばをよむ", zh:"看場合", ex:"まず場を読んでから話そう。", ex_zh:"先看場合再開口吧。"},
      {cat:"人際・社交", no:34, jp:"空気を読む", kana:"くうきをよむ", zh:"讀空氣、看氣氛行事", ex:"今は空気を読んで、余計なことは言わない。", ex_zh:"現在就讀空氣，別多說。"},
      {cat:"人際・社交", no:35, jp:"話を盛る", kana:"はなしをもる", zh:"誇大、加油添醋", ex:"それ、ちょっと話を盛ってない？", ex_zh:"你是不是有點加油添醋？"},
      {cat:"人際・社交", no:36, jp:"話をそらす", kana:"はなしをそらす", zh:"轉移話題", ex:"都合が悪いとすぐ話をそらすよね。", ex_zh:"你一不方便就立刻轉移話題耶。"},
      {cat:"人際・社交", no:37, jp:"話がかみ合う", kana:"はなしがかみあう", zh:"談得來、話題接得上", ex:"この人とは話がかみ合うから楽だ。", ex_zh:"跟這個人聊得來，很輕鬆。"},
      {cat:"人際・社交", no:38, jp:"話がこじれる", kana:"はなしがこじれる", zh:"談崩、越談越糟", ex:"ここで言い方を間違えると話がこじれる。", ex_zh:"這裡講法一錯，事情就會越談越糟。"},
      {cat:"人際・社交", no:39, jp:"一言多い", kana:"ひとことおおい", zh:"多嘴、多講一句", ex:"ごめん、今のは一言多かった。", ex_zh:"抱歉，剛剛那句我多嘴了。"},

      // 工作・學習
      {cat:"工作・學習", no:40, jp:"手を抜く", kana:"てをぬく", zh:"偷工減料、敷衍", ex:"ここは手を抜くと後で痛い目を見る。", ex_zh:"這裡偷懶的話，之後會吃苦頭。"},
      {cat:"工作・學習", no:41, jp:"手を打つ", kana:"てをうつ", zh:"採取對策、出手處理", ex:"問題が大きくなる前に手を打とう。", ex_zh:"在問題變大前先出手處理。"},
      {cat:"工作・學習", no:42, jp:"手が回らない", kana:"てがまわらない", zh:"顧不到、忙不過來", ex:"今週は手が回らないから、来週でいい？", ex_zh:"這週忙不過來，可以下週再弄嗎？"},
      {cat:"工作・學習", no:43, jp:"手が空く", kana:"てがあく", zh:"手頭空下來、有空檔", ex:"手が空いたら、これも見てくれる？", ex_zh:"你有空檔的時候，也能幫我看這個嗎？"},
      {cat:"工作・學習", no:44, jp:"手を貸す", kana:"てをかす", zh:"幫一把、搭把手", ex:"ちょっと手を貸して。5分で終わる。", ex_zh:"幫我一下，五分鐘就好。"},
      {cat:"工作・學習", no:45, jp:"手間を食う", kana:"てまをくう", zh:"費工、耗工夫", ex:"この作業、思ったより手間を食うな。", ex_zh:"這工作比想像中更費工。"},
      {cat:"工作・學習", no:46, jp:"段取りを組む", kana:"だんどりをくむ", zh:"做好流程安排、排程", ex:"先に段取りを組んでおくと早い。", ex_zh:"先把流程安排好會比較快。"},
      {cat:"工作・學習", no:47, jp:"詰めが甘い", kana:"つめがあまい", zh:"收尾不嚴謹、細節鬆散", ex:"全体はいいけど、最後の詰めが甘い。", ex_zh:"整體不錯，但最後收尾不夠嚴謹。"},
      {cat:"工作・學習", no:48, jp:"抜け漏れがある", kana:"ぬけもれがある", zh:"有遺漏、疏漏", ex:"チェックしたけど、まだ抜け漏れがあるかも。", ex_zh:"我檢查過了，但可能還有遺漏。"},
      {cat:"工作・學習", no:49, jp:"すり合わせる", kana:"すりあわせる", zh:"互相調整、對齊", ex:"要件を一回すり合わせてから進めよう。", ex_zh:"先把需求對齊一次再往下做。"},
      {cat:"工作・學習", no:50, jp:"ボールを持つ", kana:"ぼーるをもつ", zh:"（專案）負責跟進", ex:"この件は私がボールを持つね。", ex_zh:"這件事我來負責跟進。"},
      {cat:"工作・學習", no:51, jp:"ボールを返す", kana:"ぼーるをかえす", zh:"交還責任、回覆", ex:"確認したのでボール返します。次お願いします。", ex_zh:"我確認過了，把球丟回去，下一步麻煩你。"},
      {cat:"工作・學習", no:52, jp:"根拠を示す", kana:"こんきょをしめす", zh:"提出依據", ex:"その判断の根拠を示してもらえる？", ex_zh:"可以給我那個判斷的依據嗎？"},
      {cat:"工作・學習", no:53, jp:"腰を据える", kana:"こしをすえる", zh:"沉住氣、專心投入", ex:"腰を据えて取り組まないと終わらない。", ex_zh:"不沉住氣專心做，這件事做不完。"},

      // 生活常見比喻
      {cat:"生活常見比喻", no:54, jp:"ツボにはまる", kana:"つぼにはまる", zh:"正中要點、對味", ex:"その例え、完全にツボにはまった。", ex_zh:"那個比喻完全打中要點。"},
      {cat:"生活常見比喻", no:55, jp:"コツをつかむ", kana:"こつをつかむ", zh:"抓到訣竅", ex:"一回コツをつかむと一気に楽になる。", ex_zh:"一抓到訣竅就會一下子輕鬆很多。"},
      {cat:"生活常見比喻", no:56, jp:"クセが強い", kana:"くせがつよい", zh:"個性很強烈", ex:"この店、味のクセが強いけどハマる人はハマる。", ex_zh:"這家店味道個性很強，但會中毒的人就會很愛。"},
      {cat:"生活常見比喻", no:57, jp:"地雷を踏む", kana:"じらいをふむ", zh:"踩到地雷", ex:"その話題は地雷だから触れないほうがいい。", ex_zh:"那個話題是地雷，最好別碰。"},
      {cat:"生活常見比喻", no:58, jp:"波に乗る", kana:"なみにのる", zh:"乘勢而上", ex:"今は波に乗ってるから、このまま進めよう。", ex_zh:"現在正在順風上，就照這勢頭推進吧。"},
      {cat:"生活常見比喻", no:59, jp:"追い風になる", kana:"おいかぜになる", zh:"成為順風", ex:"このニュースは追い風になるはず。", ex_zh:"這個消息應該會成為順風。"},
      {cat:"生活常見比喻", no:60, jp:"逆風を受ける", kana:"ぎゃくふうをうける", zh:"處境不利", ex:"今は逆風を受けてるけど、耐えよう。", ex_zh:"現在處境不利，但先撐住。"},
      {cat:"生活常見比喻", no:61, jp:"すき間を狙う", kana:"すきまをねらう", zh:"鑽縫隙、找利基", ex:"大手と正面から戦わず、すき間を狙おう。", ex_zh:"別正面硬碰大公司，找利基切入。"},
      {cat:"生活常見比喻", no:62, jp:"話の腰を折る", kana:"はなしのこしをおる", zh:"打斷說話", ex:"ごめん、話の腰を折っちゃった。続けて。", ex_zh:"抱歉我打斷你了，你繼續。"},
      {cat:"生活常見比喻", no:63, jp:"骨が折れる", kana:"ほねがおれる", zh:"費力、吃力", ex:"この作業は骨が折れるけど、やるしかない。", ex_zh:"這工作很吃力，但只能做。"},
      {cat:"生活常見比喻", no:64, jp:"首が回らない", kana:"くびがまわらない", zh:"忙不過來／周轉不靈", ex:"今月は支払いが多くて首が回らない。", ex_zh:"這個月支出太多，周轉不靈。"},

      // 成功・失敗・風險
      {cat:"成功・失敗・風險", no:65, jp:"先手を打つ", kana:"せんてをうつ", zh:"先發制人", ex:"トラブルになる前に先手を打っておこう。", ex_zh:"在變成麻煩之前先發制人。"},
      {cat:"成功・失敗・風險", no:66, jp:"一手打つ", kana:"いってうつ", zh:"採取一步對策", ex:"この状況を変えるには、こちらも一手打つ必要がある。", ex_zh:"要改變現況，我們也得出一招。"},
      {cat:"成功・失敗・風險", no:67, jp:"一枚上手", kana:"いちまいうわて", zh:"技高一籌", ex:"相手が一枚上手だった。完敗。", ex_zh:"對方技高一籌，完全輸了。"},
      {cat:"成功・失敗・風險", no:68, jp:"裏目に出る", kana:"うらめにでる", zh:"適得其反", ex:"良かれと思ったのに裏目に出た。", ex_zh:"明明是為了好，結果適得其反。"},
      {cat:"成功・失敗・風險", no:69, jp:"火に油を注ぐ", kana:"ひにあぶらをそそぐ", zh:"火上加油", ex:"そこで反論すると火に油を注ぐだけだよ。", ex_zh:"你現在反駁只會火上加油。"},
      {cat:"成功・失敗・風險", no:70, jp:"火消しに走る", kana:"ひけしにはしる", zh:"趕緊滅火", ex:"炎上しそうだから、早めに火消しに走ったほうがいい。", ex_zh:"看起來要炎上了，最好趕快去滅火。"},
      {cat:"成功・失敗・風險", no:71, jp:"取り返しがつかない", kana:"とりかえしがつかない", zh:"無法挽回", ex:"今ここでミスると取り返しがつかない。", ex_zh:"現在這裡出錯就無法挽回了。"},
      {cat:"成功・失敗・風險", no:72, jp:"首を突っ込む", kana:"くびをつっこむ", zh:"插手、介入", ex:"関係ないなら首を突っ込まないほうがいい。", ex_zh:"如果沒關係就別插手。"},
      {cat:"成功・失敗・風險", no:73, jp:"引き際をわきまえる", kana:"ひきぎわをわきまえる", zh:"懂得適時收手", ex:"勝ち負けより、引き際をわきまえるのが大事。", ex_zh:"比起輸贏，懂得適時收手更重要。"},

      // 說話・表達力
      {cat:"說話・表達力", no:74, jp:"腹を割って話す", kana:"はらをわってはなす", zh:"開誠布公地談", ex:"一回、腹を割って話そう。", ex_zh:"我們乾脆開誠布公談一次吧。"},
      {cat:"說話・表達力", no:75, jp:"オブラートに包む", kana:"おぶらーとにつつむ", zh:"委婉包裝", ex:"言い方をオブラートに包んでくれると助かる。", ex_zh:"你如果能委婉一點講，我會比較好接。"},
      {cat:"說話・表達力", no:76, jp:"角が立つ", kana:"かどがたつ", zh:"引人不快", ex:"その言い方だと角が立つよ。", ex_zh:"你那樣講會刺到人。"},
      {cat:"說話・表達力", no:77, jp:"的を射る", kana:"まとをいる", zh:"命中要點", ex:"その指摘は的を射てる。", ex_zh:"你的指摘很到位。"},
      {cat:"說話・表達力", no:78, jp:"ニュアンスを汲む", kana:"にゅあんすをくむ", zh:"體會語感", ex:"言葉そのものより、ニュアンスを汲んでほしい。", ex_zh:"比起字面，我希望你抓到語氣。"},


      // 情境反射
      {cat:"情境反射", no:79, jp:"顔をしかめる", kana:"かおをしかめる", zh:"皺眉", ex:"彼は一瞬、顔をしかめた。", ex_zh:"他一瞬間皺了眉。"},
      {cat:"情境反射", no:80, jp:"口を挟む", kana:"くちをはさむ", zh:"插嘴", ex:"話してる途中で口を挟まないで。", ex_zh:"別在我講到一半插嘴。"},
      {cat:"情境反射", no:81, jp:"首をかしげる", kana:"くびをかしげる", zh:"表示疑惑", ex:"その説明に、みんな首をかしげてた。", ex_zh:"大家對那個說明都一臉疑惑。"},
      {cat:"情境反射", no:82, jp:"肩をすくめる", kana:"かたをすくめる", zh:"聳肩（無奈）", ex:"どうしようもなくて、肩をすくめた。", ex_zh:"沒辦法了，只能無奈聳肩。"},
      {cat:"情境反射", no:83, jp:"手を焼く", kana:"てをやく", zh:"難以應付", ex:"この件は本当に手を焼いてる。", ex_zh:"這件事真的很難搞。"},
      {cat:"情境反射", no:84, jp:"気を回す", kana:"きをまわす", zh:"多想、顧慮", ex:"そんなに気を回さなくて大丈夫だよ。", ex_zh:"不用想那麼多，沒事。"},
      {cat:"情境反射", no:85, jp:"気を利かせる", kana:"きをきかせる", zh:"機靈配合", ex:"ここは気を利かせて、先に動こう。", ex_zh:"這裡機靈點，我們先動起來。"},
      {cat:"情境反射", no:86, jp:"気を落とす", kana:"きをおとす", zh:"灰心", ex:"そんなに気を落とさないで。まだいける。", ex_zh:"別那麼灰心，還有機會。"},
      {cat:"情境反射", no:87, jp:"気が済む", kana:"きがすむ", zh:"心裡過得去", ex:"それで気が済むなら、そうしていいよ。", ex_zh:"如果那樣你心裡過得去，就那樣做吧。"},
      {cat:"情境反射", no:88, jp:"腹をくくる", kana:"はらをくくる", zh:"下定決心", ex:"もう腹をくくった。やるしかない。", ex_zh:"我已經下定決心了，只能做。"},
      {cat:"情境反射", no:89, jp:"腹が立つ", kana:"はらがたつ", zh:"生氣", ex:"その態度はさすがに腹が立つ。", ex_zh:"那種態度我真的會火大。"},
      {cat:"情境反射", no:90, jp:"胸がいっぱい", kana:"むねがいっぱい", zh:"感慨滿懷", ex:"みんなの言葉で胸がいっぱいになった。", ex_zh:"大家的話讓我感動到滿滿的。"},
      {cat:"情境反射", no:91, jp:"腰が重い", kana:"こしがおもい", zh:"懶得動", ex:"やらなきゃと思うけど、腰が重い。", ex_zh:"知道該做，但就是懶得動。"},
      {cat:"情境反射", no:92, jp:"水に流す", kana:"みずにながす", zh:"既往不咎", ex:"今回のことは水に流そう。", ex_zh:"這次的事就算了吧。"},
      {cat:"情境反射", no:93, jp:"根に持つ", kana:"ねにもつ", zh:"記恨", ex:"そんなの根に持たないでよ。", ex_zh:"別把那種事記恨啦。"},

      // 思考表態
      {cat:"思考表態", no:94, jp:"そういう手もある", kana:"そういうてもある", zh:"也是個辦法", ex:"なるほど、そういう手もあるね。", ex_zh:"原來如此，也有那一招啊。"},
      {cat:"思考表態", no:95, jp:"それはそれで", kana:"それはそれで", zh:"那樣也有那樣的好", ex:"それはそれでアリだと思う。", ex_zh:"那樣我覺得也可以。"},
      {cat:"思考表態", no:96, jp:"一理ある", kana:"いちりある", zh:"有道理", ex:"言ってることは一理ある。", ex_zh:"你說的確有道理。"},
      {cat:"思考表態", no:97, jp:"なんとも言えない", kana:"なんともいえない", zh:"很難說", ex:"良い悪いは、なんとも言えないな。", ex_zh:"好不好真的很難說。"},
      {cat:"思考表態", no:98, jp:"さすがに…", kana:"さすがに…", zh:"再怎麼說也…", ex:"さすがにそれは無理だと思う。", ex_zh:"再怎麼說我覺得那不行。"},
      {cat:"思考表態", no:99, jp:"どちらかと言えば…", kana:"どちらかといえば…", zh:"如果要說的話", ex:"どちらかと言えば、Aのほうが好き。", ex_zh:"如果要說的話，我比較喜歡A。"},
      {cat:"思考表態", no:100, jp:"どの口が言う", kana:"どのくちがいう", zh:"你也好意思說", ex:"どの口が言うの？さっきと言ってること違うよ。", ex_zh:"你也好意思說？你剛剛講的跟現在不一樣。"},
      {cat:"思考表態", no:101, jp:"そこまでは…", kana:"そこまでは…", zh:"也沒到那程度", ex:"いや、そこまでは気にしてない。", ex_zh:"沒有啦，也沒那麼在意。"},
      {cat:"思考表態", no:102, jp:"ありがち", kana:"ありがち", zh:"常見的", ex:"それ、ありがちなミスだよ。", ex_zh:"那是很常見的錯誤。"},
      {cat:"思考表態", no:103, jp:"ありえる話", kana:"ありえるはなし", zh:"可能發生的事", ex:"それはありえる話だね。念のため確認しよう。", ex_zh:"那確實有可能，以防萬一確認一下。"},

      // 輕吐槽／婉拒
      {cat:"輕吐槽／婉拒", no:104, jp:"それは違う気がする", kana:"それはちがうきがする", zh:"我覺得不太對", ex:"うーん、それは違う気がする。", ex_zh:"嗯…我覺得不太對。"},
      {cat:"輕吐槽／婉拒", no:105, jp:"その発想はなかった", kana:"そのはっそうはなかった", zh:"沒想到這種想法", ex:"その発想はなかった。面白いね。", ex_zh:"沒想到這招，蠻有趣的。"},
      {cat:"輕吐槽／婉拒", no:106, jp:"今はちょっと…", kana:"いまはちょっと…", zh:"現在不方便", ex:"ごめん、今はちょっと…。また今度。", ex_zh:"抱歉，我現在有點不方便…下次。"},
      {cat:"輕吐槽／婉拒", no:107, jp:"さすがに無理", kana:"さすがにむり", zh:"再怎麼說也不行", ex:"それはさすがに無理。今日は帰る。", ex_zh:"那真的不行，我今天要回了。"},
      {cat:"輕吐槽／婉拒", no:108, jp:"それはさすがに…", kana:"それはさすがに…", zh:"那樣有點過分", ex:"それはさすがに…。言い過ぎじゃない？", ex_zh:"那有點過分了吧…你是不是講太重？"},
      {cat:"輕吐槽／婉拒", no:109, jp:"どっちでもいい", kana:"どっちでもいい", zh:"都可以", ex:"私はどっちでもいいよ。任せる。", ex_zh:"我都可以，你決定。"},
      {cat:"輕吐槽／婉拒", no:110, jp:"ほどほどに", kana:"ほどほどに", zh:"適可而止", ex:"無理しないで、ほどほどにね。", ex_zh:"別太勉強，適可而止。"},
      {cat:"輕吐槽／婉拒", no:111, jp:"空気読んで", kana:"くうきよんで", zh:"看氣氛", ex:"お願い、空気読んで今はやめて。", ex_zh:"拜託看氣氛，現在先別。"},
      {cat:"輕吐槽／婉拒", no:112, jp:"それは置いといて", kana:"それはおいといて", zh:"先擱一邊", ex:"それは置いといて、今の優先はこっち。", ex_zh:"那先放一邊，現在優先的是這個。"},

      // 決策與推進
      {cat:"決策與推進", no:113, jp:"腕を上げる", kana:"うでをあげる", zh:"提升本事", ex:"最近、腕を上げたね。仕上がりが違う。", ex_zh:"你最近功力提升了，完成度不一樣。"},
      {cat:"決策與推進", no:114, jp:"腕を振るう", kana:"うでをふるう", zh:"大展身手", ex:"ここで腕を振るってもらおう。", ex_zh:"這裡就讓你大展身手吧。"},
      {cat:"決策與推進", no:115, jp:"話を詰める", kana:"はなしをつめる", zh:"敲定細節", ex:"時間ある？今日中に話を詰めたい。", ex_zh:"有空嗎？我想今天之內把細節談定。"},
      {cat:"決策與推進", no:116, jp:"話を通す", kana:"はなしをとおす", zh:"取得同意", ex:"先に上に話を通しておくね。", ex_zh:"我先跟上面打個招呼取得同意。"},
      {cat:"決策與推進", no:117, jp:"根回しをする", kana:"ねまわしをする", zh:"事前打點", ex:"通したいなら、先に根回しをしたほうが早い。", ex_zh:"想推過的話，先私下打點會比較快。"},
      {cat:"決策與推進", no:118, jp:"方向性を合わせる", kana:"ほうこうせいをあわせる", zh:"對齊方向", ex:"まず方向性を合わせてから細部を決めよう。", ex_zh:"先把方向對齊，再決定細節。"},
      {cat:"決策與推進", no:119, jp:"見通しを立てる", kana:"みとおしをたてる", zh:"預估走向", ex:"ざっくりでいいから見通しを立てよう。", ex_zh:"大概就好，先把走向估出來。"},
      {cat:"決策與推進", no:120, jp:"見当をつける", kana:"けんとうをつける", zh:"抓概略", ex:"まずは予算の見当をつけよう。", ex_zh:"先抓一下預算的大概範圍。"},

      // 品質與感受
      {cat:"品質與感受", no:121, jp:"仕上がりがいい", kana:"しあがりがいい", zh:"完成度高", ex:"今回のは仕上がりがいいね。", ex_zh:"這次的成品完成度很高。"},
      {cat:"品質與感受", no:122, jp:"収まりがいい", kana:"おさまりがいい", zh:"貼合得體", ex:"この配置だと収まりがいい。", ex_zh:"這樣排版/擺放很服貼、很得體。"},
      {cat:"品質與感受", no:123, jp:"使い勝手がいい", kana:"つかいがってがいい", zh:"好用", ex:"これ、使い勝手がいいから手放せない。", ex_zh:"這個很好用，用了就離不開。"},
      {cat:"品質與感受", no:124, jp:"もったいない", kana:"もったいない", zh:"可惜", ex:"捨てるのはもったいないよ。まだ使える。", ex_zh:"丟掉太可惜了，還能用。"},
      {cat:"品質與感受", no:125, jp:"腑に落ちる", kana:"ふにおちる", zh:"想通", ex:"その説明で腑に落ちた。なるほど。", ex_zh:"那樣解釋我就想通了，原來如此。"},
      {cat:"品質與感受", no:126, jp:"しっくり来ない", kana:"しっくりこない", zh:"不太對勁", ex:"悪くないけど、なんかしっくり来ない。", ex_zh:"不差，但總覺得不太對勁。"},
      {cat:"品質與感受", no:127, jp:"雰囲気がある", kana:"ふんいきがある", zh:"有氛圍", ex:"この写真、雰囲気があるね。", ex_zh:"這張照片很有氛圍。"},
      {cat:"品質與感受", no:128, jp:"こだわりがある", kana:"こだわりがある", zh:"有講究", ex:"細部にこだわりがあるのが分かる。", ex_zh:"看得出你對細節很講究。"},

      // 進度與狀況
      {cat:"進度與狀況", no:129, jp:"目処が立つ", kana:"めどがたつ", zh:"有眉目", ex:"だいぶ目処が立ってきた。あと少し。", ex_zh:"大致有眉目了，再一下。"},
      {cat:"進度與狀況", no:130, jp:"手応えがある", kana:"てごたえがある", zh:"有效果", ex:"今回は手応えがある。いけそう。", ex_zh:"這次有手感、有成效，感覺行。"},
      {cat:"進度與狀況", no:131, jp:"先が見える", kana:"さきがみえる", zh:"看得見前景", ex:"ここまで来ると先が見えるね。", ex_zh:"到這裡就看得到終點了。"},
      {cat:"進度與狀況", no:132, jp:"行き当たりばったり", kana:"いきあたりばったり", zh:"沒計畫", ex:"行き当たりばったりだと、あとで詰むよ。", ex_zh:"走一步算一步的話，之後會卡死。"},
      {cat:"進度與狀況", no:133, jp:"空回りする", kana:"からまわりする", zh:"白忙", ex:"頑張ってるのに空回りしてる感じ。", ex_zh:"明明很努力，卻有種白忙的感覺。"},
      {cat:"進度與狀況", no:134, jp:"バタバタしている", kana:"ばたばたしている", zh:"忙亂", ex:"今日は朝からバタバタしてる。", ex_zh:"我今天從早上就忙亂到不行。"},
      {cat:"進度與狀況", no:135, jp:"ぼちぼちやる", kana:"ぼちぼちやる", zh:"慢慢來", ex:"焦らず、ぼちぼちやろう。", ex_zh:"別急，慢慢來就好。"},
      {cat:"進度與狀況", no:136, jp:"詰まり気味", kana:"つまりぎみ", zh:"有點卡", ex:"処理が詰まり気味だから、一回整理しよう。", ex_zh:"流程有點卡，先整理一下。"},
      {cat:"進度與狀況", no:137, jp:"ひと段落つく", kana:"ひとだんらくつく", zh:"告一段落", ex:"この件、ようやくひと段落ついた。", ex_zh:"這件事終於告一段落了。"},
      {cat:"進度與狀況", no:138, jp:"埋まってる", kana:"うまってる", zh:"已滿", ex:"その時間はもう埋まってる。別の枠にしよう。", ex_zh:"那個時間已經滿了，換別的時段。"},
      {cat:"進度與狀況", no:139, jp:"空いてる", kana:"あいてる", zh:"有空", ex:"明日の午後なら空いてるよ。", ex_zh:"明天下午我有空。"},
      {cat:"進度與狀況", no:140, jp:"押してる", kana:"おしてる", zh:"延誤", ex:"ごめん、ちょっと押してる。10分遅れる。", ex_zh:"抱歉有點延誤，我會晚10分鐘。"},
      {cat:"進度與狀況", no:141, jp:"遅れてる", kana:"おくれてる", zh:"落後", ex:"進捗、少し遅れてる。巻き返す。", ex_zh:"進度有點落後，我會追上。"},
      {cat:"進度與狀況", no:142, jp:"詰まってる", kana:"つまってる", zh:"卡住", ex:"今ここで詰まってる。原因見てくれる？", ex_zh:"我卡在這裡了，可以幫我看原因嗎？"},
      {cat:"進度與狀況", no:143, jp:"回ってない", kana:"まわってない", zh:"運作不良", ex:"体制が回ってないから、まず立て直そう。", ex_zh:"整個體制沒在運作，先把它拉回正軌。"},
      {cat:"進度與狀況", no:144, jp:"ひとまず落ち着いた", kana:"ひとまずおちついた", zh:"暫時穩下來", ex:"ひとまず落ち着いたから、次の手を考えよう。", ex_zh:"暫時穩下來了，來想下一步。"},
      {cat:"進度與狀況", no:145, jp:"立て直す", kana:"たてなおす", zh:"拉回正軌", ex:"ここから立て直せば、まだ間に合う。", ex_zh:"從這裡拉回正軌的話，還來得及。"},


      /* 下面為了避免你捲到天荒地老，我先把「全部 145 條」都做完了。
         但訊息長度限制很容易炸掉。
         所以我用同樣格式，先示範到 28 條讓你確認 UI/UX + 呈現方式。
         你回我一句「繼續補完」我就把剩下 29～145 的 DATA 區塊一次貼完（不改 UI）。 */
    ];

    const byCat = () => {
      const m = new Map();
      for (const item of DATA){
        if (!m.has(item.cat)) m.set(item.cat, []);
        m.get(item.cat).push(item);
      }
      return m;
    };

    const $ = (sel) => document.querySelector(sel);
    const app = $("#app");
    const q = $("#q");
    const toggleAllBtn = $("#toggleAll");
    const clearBtn = $("#clear");
    const countEl = $("#count");
    const toast = $("#toast");

    function showToast(msg){
      toast.textContent = msg;
      toast.classList.add("show");
      clearTimeout(showToast._t);
      showToast._t = setTimeout(()=>toast.classList.remove("show"), 900);
    }

    function escapeHtml(s){
      return String(s).replace(/[&<>"']/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c]));
    }

    function cardHTML(item){
      const jp = escapeHtml(item.jp);
      const kana = escapeHtml(item.kana);
      const zh = escapeHtml(item.zh);
      const ex = escapeHtml(item.ex || "");
      const exzh = escapeHtml(item.ex_zh || "");
      return `
        <div class="card" data-no="${item.no}">
          <div class="topRow">
            <div style="min-width:0">
              <div class="jp">${jp}</div>
              <div class="kana">${kana}</div>
            </div>
            <button class="btn" type="button" data-copy="${jp}">Copy</button>
          </div>

          <div class="zh">${zh}</div>

          ${ex ? `
            <div class="example">
              <div class="exjp">${ex}</div>
              <div class="exzh">${exzh}</div>
            </div>
          ` : ``}
        </div>
      `;
    }

    function groupHTML(cat, items, open=false){
      return `
        <details class="group" ${open ? "open" : ""}>
          <summary>
            <div class="groupTitle">
              <div class="name">${escapeHtml(cat)}</div>
              <div class="meta">${items.length} items</div>
            </div>
            <div class="chev" aria-hidden="true">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none">
                <path d="M6 9l6 6 6-6" stroke="rgba(255,255,255,.70)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
          </summary>
          <div class="cards">
            ${items.map(cardHTML).join("")}
          </div>
        </details>
      `;
    }

    function render(filter=""){
      const needle = filter.trim().toLowerCase();
      const m = byCat();

      let totalShown = 0;
      let html = "";

      for (const [cat, items] of m.entries()){
        const filtered = !needle ? items : items.filter(it => {
          const s = `${it.jp} ${it.kana} ${it.zh} ${it.ex||""} ${it.ex_zh||""}`.toLowerCase();
          return s.includes(needle);
        });

        if (filtered.length === 0) continue;
        totalShown += filtered.length;
        html += groupHTML(cat, filtered, Boolean(needle));
      }

      app.innerHTML = html || `<div style="color:var(--muted);padding:16px;border:1px solid var(--line);border-radius:16px;background:rgba(255,255,255,.03)">沒有符合的結果。</div>`;
      countEl.textContent = `${totalShown} / ${DATA.length} items`;

      app.querySelectorAll("[data-copy]").forEach(btn=>{
        btn.addEventListener("click", async (e)=>{
          const text = e.currentTarget.getAttribute("data-copy");
          try{
            await navigator.clipboard.writeText(text);
            showToast("Copied: " + text);
          }catch{
            const ta = document.createElement("textarea");
            ta.value = text;
            document.body.appendChild(ta);
            ta.select();
            document.execCommand("copy");
            document.body.removeChild(ta);
            showToast("Copied: " + text);
          }
        });
      });

      if (!needle){
        const groups = [...app.querySelectorAll("details.group")];
        const allOpen = groups.length > 0 && groups.every(d => d.open);
        toggleAllBtn.setAttribute("aria-pressed", String(allOpen));
        toggleAllBtn.textContent = allOpen ? "收合全部" : "展開全部";
      }else{
        toggleAllBtn.setAttribute("aria-pressed","true");
        toggleAllBtn.textContent = "收合全部";
      }
    }

    render("");

    q.addEventListener("input", () => render(q.value));

    clearBtn.addEventListener("click", ()=>{
      q.value = "";
      render("");
      q.focus();
    });

    toggleAllBtn.addEventListener("click", ()=>{
      const details = [...app.querySelectorAll("details.group")];
      if (details.length === 0) return;
      const shouldOpen = !details.every(d => d.open);
      for (const d of details) d.open = shouldOpen;
      toggleAllBtn.setAttribute("aria-pressed", String(shouldOpen));
      toggleAllBtn.textContent = shouldOpen ? "收合全部" : "展開全部";
    });

    window.addEventListener("keydown", (e)=>{
      if (e.key === "/" && document.activeElement !== q){
        e.preventDefault();
        q.focus();
      }
      if (e.key === "Escape"){
        if (document.activeElement === q && q.value){
          q.value = "";
          render("");
        }
      }
    });
  </script>
</body>
</html>

